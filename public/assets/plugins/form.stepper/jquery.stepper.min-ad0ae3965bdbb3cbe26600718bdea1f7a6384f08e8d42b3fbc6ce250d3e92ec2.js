!function(e){e.fn.stepper=function(t){var n={type:"float",floatPrecission:2,ui:!0,allowWheel:!0,allowArrows:!0,arrowStep:1,wheelStep:1,limit:[null,null],preventWheelAcceleration:!0,incrementButton:"&blacktriangle;",decrementButton:"&blacktriangledown;",onStep:null,onWheel:null,onArrow:null,onButton:null,onKeyUp:null};return e(this).each(function(){function o(e){e.preventDefault();var t,n=e.originalEvent;(n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3),t)&&(u.preventWheelAcceleration&&(t=t<0?-1:1),a("Wheel",[r(u.wheelStep*t),t>0]))}function r(e){s.val()||s.val(0);var t=l(("int"==u.type?parseInt:parseFloat)(s.val())+e);return s.val(t),a("Step",[t,e>0]),t}function a(e,t){var n=u["on"+e];"function"==typeof n&&n.apply(s,t)}function l(e){var t=u.limit[0],n=u.limit[1];return null!==t&&e<t?e=t:null!==n&&e>n&&(e=n),i(e)}function i(e,t){void 0===t&&(t=u.floatPrecission);var n=Math.pow(10,t);return e=Math.round(e*n)/n}var p=e(this).data();delete p.stepper;var u=e.extend({},n,t,p),s=e(this),c=e('<div class="stepper-wrap"/>');if(!s.data("stepper")){if(c.insertAfter(s),s.appendTo(c),s.stepper={limit:l,decimalRound:i,onStep:function(e){u.onStep=e},onWheel:function(e){u.onWheel=e},onArrow:function(e){u.onArrow=e},onButton:function(e){u.onButton=e},onKeyUp:function(e){u.onKeyUp=e}},s.data("stepper",s.stepper),u.ui){var f,w=e('<div class="stepper-btn-wrap"/>').appendTo(c),d=e('<a class="stepper-btn-up">'+u.incrementButton+"</a>").appendTo(w),v=e('<a class="stepper-btn-dwn">'+u.decrementButton+"</a>").appendTo(w);c.css({"margin-top":s.css("margin-top"),"margin-left":s.css("margin-left"),"margin-bottom":s.css("margin-bottom"),"margin-right":w.outerWidth()+parseInt(s.css("margin-right"))}),s.css("margin",0),d.mousedown(function(e){e.preventDefault(),a("Button",[r(u.arrowStep),!0])}),v.mousedown(function(e){e.preventDefault(),a("Button",[r(-u.arrowStep),!1])}),e(document).mouseup(function(){clearInterval(f)})}u.allowWheel&&(c.bind("DOMMouseScroll",o),c.bind("mousewheel",o)),c.keydown(function(t){var n=t.which,o=s.val();if(u.allowArrows)switch(n){case 38:a("Arrow",[o=r(u.arrowStep),!0]);break;case 40:a("Arrow",[o=r(-u.arrowStep),!1])}(n<37&&n>40||n>57&&n<91||n>105&&110!=n&&190!=n)&&t.preventDefault(),"float"==u.type&&-1!=e.inArray(n,[110,190])&&-1!=o.indexOf(".")&&t.preventDefault()}).keyup(function(){a("KeyUp",[s.val()])})}})}}(jQuery);